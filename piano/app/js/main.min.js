window.Piano={},Piano.buzz=function(){buzz.defaults.formats=["ogg","mp3"],buzz.defaults.preload="auto",buzz.defaults.loop=!1;var a={},b="3c,3c$,3d,3d$,3e,3f,3f$,3g,3g$,3a,3a$,3b,4c,4c$,4d,4d$,4e,4f,4f$,4g,4g$,4a,4a$,4b,5c,5c$,5d,5d$,5e,5f,5f$,5g,5g$,5a,5a$,5b".split(",");for(var c in b){var d=b[c];a[d]=new buzz.sound("sounds/"+d);var e,f={},g=$(".3c"),h=$(".3cc"),i=$(".3d"),j=$(".3dd"),k=$(".3e"),l=$(".3f"),m=$(".3ff"),n=$(".3g"),o=$(".3gg"),p=$(".3a"),q=$(".3aa"),r=$(".3b"),s=$(".4c"),t=$(".4cc"),u=$(".4d"),v=$(".4dd"),w=$(".4e"),x=$(".4f"),y=$(".4ff"),z=$(".4g"),A=$(".4gg"),B=$(".4a"),C=$(".4aa"),D=$(".4b"),E=$(".5c"),F=$(".5cc"),G=$(".5d"),H=$(".5dd"),I=$(".5e"),J=$(".5f"),K=$(".5ff"),L=$(".5g"),M=$(".5gg")}$(function(){var b=$(".note");b.each(function(){$(this).on("mousedown touchstart",function(){var b=$(this).children().text();a[b]&&a[b].stop().play()})}),b.each(function(){$(this).on("mouseup mousemove touchend touchmove",function(){var b=$(this).children().text();a[b]&&a[b].stop()})})}),$("body").on("keydown",function(a){e&&e.keyCode==event.keyCode||(e=event,f[event.keyCode]=!0,90==a.keyCode&&g.trigger("mousedown"),83==a.keyCode&&h.trigger("mousedown"),88==a.keyCode&&i.trigger("mousedown"),68==a.keyCode&&j.trigger("mousedown"),67==a.keyCode&&k.trigger("mousedown"),86==a.keyCode&&l.trigger("mousedown"),71==a.keyCode&&m.trigger("mousedown"),66==a.keyCode&&n.trigger("mousedown"),72==a.keyCode&&o.trigger("mousedown"),78==a.keyCode&&p.trigger("mousedown"),74==a.keyCode&&q.trigger("mousedown"),77==a.keyCode&&r.trigger("mousedown"),188==a.keyCode&&s.trigger("mousedown"),76==a.keyCode&&t.trigger("mousedown"),190==a.keyCode&&u.trigger("mousedown"),186==a.keyCode&&v.trigger("mousedown"),191==a.keyCode&&w.trigger("mousedown"),81==a.keyCode&&s.trigger("mousedown"),50==a.keyCode&&t.trigger("mousedown"),87==a.keyCode&&u.trigger("mousedown"),51==a.keyCode&&v.trigger("mousedown"),69==a.keyCode&&w.trigger("mousedown"),82==a.keyCode&&x.trigger("mousedown"),53==a.keyCode&&y.trigger("mousedown"),84==a.keyCode&&z.trigger("mousedown"),54==a.keyCode&&A.trigger("mousedown"),89==a.keyCode&&B.trigger("mousedown"),55==a.keyCode&&C.trigger("mousedown"),85==a.keyCode&&D.trigger("mousedown"),73==a.keyCode&&E.trigger("mousedown"),57==a.keyCode&&F.trigger("mousedown"),79==a.keyCode&&G.trigger("mousedown"),48==a.keyCode&&H.trigger("mousedown"),80==a.keyCode&&I.trigger("mousedown"),219==a.keyCode&&J.trigger("mousedown"),187==a.keyCode&&K.trigger("mousedown"),221==a.keyCode&&L.trigger("mousedown"),220==a.keyCode&&M.trigger("mousedown"))}),$("body").on("keyup",function(a){e=null,90==a.keyCode&&g.trigger("mouseup"),83==a.keyCode&&h.trigger("mouseup"),88==a.keyCode&&i.trigger("mouseup"),68==a.keyCode&&j.trigger("mouseup"),67==a.keyCode&&k.trigger("mouseup"),86==a.keyCode&&l.trigger("mouseup"),71==a.keyCode&&m.trigger("mouseup"),66==a.keyCode&&n.trigger("mouseup"),72==a.keyCode&&o.trigger("mouseup"),78==a.keyCode&&p.trigger("mouseup"),74==a.keyCode&&q.trigger("mouseup"),77==a.keyCode&&r.trigger("mouseup"),188==a.keyCode&&s.trigger("mouseup"),76==a.keyCode&&t.trigger("mouseup"),190==a.keyCode&&u.trigger("mouseup"),186==a.keyCode&&v.trigger("mouseup"),191==a.keyCode&&w.trigger("mouseup"),81==a.keyCode&&s.trigger("mouseup"),50==a.keyCode&&t.trigger("mouseup"),87==a.keyCode&&u.trigger("mouseup"),51==a.keyCode&&v.trigger("mouseup"),69==a.keyCode&&w.trigger("mouseup"),82==a.keyCode&&x.trigger("mouseup"),53==a.keyCode&&y.trigger("mouseup"),84==a.keyCode&&z.trigger("mouseup"),54==a.keyCode&&A.trigger("mouseup"),89==a.keyCode&&B.trigger("mouseup"),55==a.keyCode&&C.trigger("mouseup"),85==a.keyCode&&D.trigger("mouseup"),73==a.keyCode&&E.trigger("mouseup"),57==a.keyCode&&F.trigger("mouseup"),79==a.keyCode&&G.trigger("mouseup"),48==a.keyCode&&H.trigger("mouseup"),80==a.keyCode&&I.trigger("mouseup"),219==a.keyCode&&J.trigger("mouseup"),187==a.keyCode&&K.trigger("mouseup"),221==a.keyCode&&L.trigger("mouseup"),220==a.keyCode&&M.trigger("mouseup")})},Piano.typewritter=function(){function a(b,c,d,e,f){b.html(function(a,b){return b+c[d]}),d<c.length-1?setTimeout(function(){a(b,c,d+1,e,f)},e):f()}function b(a,c,d){var e;a.html(function(a,b){return e=b.length,b.substr(0,e-1)}),e>1?setTimeout(function(){b(a,c,d)},c):d()}$.fn.extend({teletype:function(c){var d=$.extend({},$.teletype.defaults,c);return $(this).each(function(){!function c(e,f){a(e,d.text[f],0,d.delay,function(){setTimeout(function(){b(e,d.delay,function(){c(e,(f+1)%d.text.length)})},d.pause)})}($(this),0)})}}),$.extend({teletype:{defaults:{delay:200,pause:5e4,text:[]}}}),$("#cursor").teletype({text:["â–ˆ"," "],delay:0,pause:500}),$("#target").teletype({text:['LOAD"COMMODORE64 HTML5 PIANO",8']})},Piano.anim=function(){var a=$(".monitor-glich");myIntVal=setInterval(function(){setTimeout(function(){a.removeClass("active")},50),a.addClass("active")},100),$(".monitor").click(function(){clearInterval(myIntVal),a.stop().removeClass("active")})},$(document).load(function(){$(".content-wrap").css("opacity","0"),Piano.typewritter()}),$(document).ready(function(){Piano.buzz(),$("#loadscreen").fadeOut(300),$(".content-wrap").css("opacity","1"),null!==document.getElementById("monitor")&&Piano.anim()});