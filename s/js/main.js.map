{"version":3,"sources":["_define.js","views/app.js","views/carousel.js","views/catalog.js","views/gallery.js","init.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA","file":"main.js","sourcesContent":["window.ss = window.ss || {\r\n\tviews: {},\r\n\tmodels: {},\r\n\tcontrollers: {},\r\n\trounter: null\r\n};","window.ss.views.App = Backbone.View.extend({\r\n\tel: '.js-app',\r\n\tevents: function() {\r\n\t\treturn Modernizr.touch ? {\r\n\t\t\t'click .js-wishBtnCheckbox': 'wish',\r\n\t\t\t'click .js-cancelWish': 'cancelWish',\r\n\t\t\t'click .js-next-buton': 'webkitIt',\r\n\t\t\t'click .js-menuShow': 'showHideMenu'\r\n\t\t} : {\r\n\t\t\t'click .js-wishBtnCheckbox': 'wish',\r\n\t\t\t'click .js-cancelWish': 'cancelWish',\r\n\t\t\t'click .js-next-buton': 'webkitIt',\r\n\t\t\t'click .js-menuShow': 'preventDef',\r\n\t\t\t'click .js-search-field': 'resizeSearch',\r\n\t\t\t'mouseenter .js-menu': 'showHideMenu',\r\n\t\t\t'mouseleave .js-menu': 'showHideMenu',\r\n\t\t\t'mouseenter .js-menuShow': 'showHideMenu',\r\n\t\t\t'mouseleave .js-menuShow': 'showHideMenu'\r\n\t\t}\r\n\t\t\r\n\t},\r\n\r\n\tbodyFunc: function(e) {\r\n\t\tconsole.log($(e.target));\r\n\t\tif (!($(e.target.offsetParent).parents('.js-search-field').length) && !($(e.target).hasClass('js-listItem'))){\r\n\t\t\t$('.js-search-field').removeClass('expand');\r\n\t\t}\r\n\t},\r\n\r\n\tresizeSearch: function(e) {\r\n\t\t$(e.currentTarget).addClass('expand');\r\n\t},\r\n\r\n\tpreventDef: function(e) {\r\n\t\te.preventDefault();\r\n\t},\r\n\r\n\tshowHideMenu: function(e) {\r\n\t\tvar $dropdown = $('.js-dropdown'),\r\n\t\t\t$backMask = $('.js-mask');\r\n\t\t$('.js-search-field').removeClass('expand');\r\n\t\tif ($(e.currentTarget).hasClass('js-menu')){\r\n\t\t\tif ($dropdown.hasClass('active')){\r\n\t\t\t\t$dropdown.removeClass('active');\r\n\t\t\t\t$backMask.removeClass('active');\r\n\t\t\t\t$('.js-menuShow').removeClass('active');\r\n\t\t\t} else {\r\n\t\t\t\t$dropdown.addClass('active');\r\n\t\t\t\t$backMask.addClass('active');\r\n\t\t\t}\r\n\t\t} else if ($(e.currentTarget).hasClass('js-menuShow')){\r\n\t\t\tvar currentMenuName = e.currentTarget.attributes.href.nodeValue,\r\n\t\t\t\t$link = $(e.currentTarget),\r\n\t\t\t\t$currentMenu = $dropdown.find('.js-dropdown-container[data-type=\"' + currentMenuName + '\"]');\r\n\t\t\t\r\n\t\t\t$('.js-menuShow').removeClass('active');\r\n\t\t\t$link.addClass('active');\r\n\t\t\t$('.js-dropdown-container').removeClass('active');\r\n\t\t\t$currentMenu.addClass('active');\r\n\t\t}\r\n\t},\r\n\r\n\t// showMenu: function(e) {\r\n\t// \t$('.js-dropdown').addClass('active');\r\n\t// \tconsole.log($(e.currentTarget));\r\n\t// },\r\n\r\n\t// hideMenu: function(e) {\r\n\t// \t$('.js-dropdown').removeClass('active');\r\n\t// \tconsole.log(e);\r\n\t// },\r\n\r\n\tcancelWish: function (e) {\r\n\t\te.preventDefault();\r\n\t\tvar $currentTarget = e.currentTarget;\r\n\r\n\t\t$currentTarget.parents('.js-product').find('.js-wishBtnCheckbox').trigger('click');\r\n\t},\r\n\tprogressTimer: function () {\r\n\t\t\r\n\t},\r\n\tsetActiveSlide: function (id) {\r\n\r\n\t},\r\n\r\n\r\n\r\n\twish: function (e) {\r\n\t\tvar $currentTarget = $(e.currentTarget);\r\n\t\tconsole.log($currentTarget.parents('.js-product'));\r\n\t\tif ($currentTarget.is(':checked')) {\r\n\t\t\t$currentTarget.closest('.js-wishBtn').addClass('checked');\r\n\t\t\t$currentTarget.parents('.js-product').find('.js-wishBlock').addClass('show');\r\n\t\t} else {\r\n\t\t\t$currentTarget.closest('.js-wishBtn').removeClass('checked');\r\n\t\t\t$currentTarget.parents('.js-product').find('.js-wishBlock').removeClass('show');\r\n\t\t}\r\n\r\n\t},\r\n\tfancybox: function(){\r\n\t\t$('.js-fancybox').fancybox({\r\n\t\t\tpadding: 0,\r\n\t\t\ttpl: {\r\n\t\t\t\twrap     : '<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\"></div></div></div></div>',\r\n\t\t\t\timage    : '<img class=\"fancybox-image\" src=\"{href}\" alt=\"\" />',\r\n\t\t\t\tiframe   : '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\"></iframe>',\r\n\t\t\t\terror    : '<p class=\"fancybox-error\">The requested content cannot be loaded.<br/>Please try again later.</p>',\r\n\t\t\t\tcloseBtn : '<a title=\"Close\" class=\"fancybox-item fancybox-close\" href=\"javascript:;\"><svg class=\"icon_close_thin\"><use xlink:href=\"/img/icons.svg#close_thin\" /></svg></a>',\r\n\t\t\t\tnext     : '<a title=\"Next\" class=\"fancybox-nav fancybox-next\" href=\"javascript:;\"><span></span></a>',\r\n\t\t\t\tprev     : '<a title=\"Previous\" class=\"fancybox-nav fancybox-prev\" href=\"javascript:;\"><span></span></a>'\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tinitialize: function () {\r\n\t\tthis.views = {};\r\n\t\t// Rating init\r\n\t\tthis.$('.js-rating').barrating('show', {\r\n\t\t\tshowSelectedRating: true,\r\n\t\t\treverse: false,\r\n\t\t\treadonly: true\r\n\t\t});\r\n\t\t// Progress timer\r\n\t\tthis.progressTimer();\r\n\t\tthis.render();\r\n\t\tif (this.$el.hasClass('home')){\r\n\t\t\tthis.views.carousel = new window.ss.views.Carousel({refreshTimeout: 2000});\r\n\t\t}\r\n\t\tif (this.$el.hasClass('product-page')){\r\n\t\t\tthis.views.gallery = new window.ss.views.Gallery({});\r\n\t\t}\r\n\t\t// \r\n\t\tthis.fancybox();\r\n\t\t$('body').bind('click', this.bodyFunc);\r\n\t},\r\n\twebkitIt: function (e) {\r\n\t\te.preventDefault();\r\n\t\tvar $currentTarget = $(e.currentTarget),\r\n\t\t\t$parent = $currentTarget.closest('.js-slide'),\r\n\t\t\tindex = parseInt($parent.attr('data-slide')),\r\n\t\t\ttotalSlides = $currentTarget.closest('.js-webkitContainer').find('.js-slide').length,\r\n\t\t\t$nextSlide = null,\r\n\t\t\t$allButtons = $currentTarget.closest('.js-webkitContainer').find('.js-next-buton')\r\n\t\t;\r\n\t\tif (!($currentTarget.hasClass('disabled'))){\r\n\t\t\t$parent.removeClass('active');\r\n\t\t\tif ((index + 1) > totalSlides){\r\n\t\t\t\t$nextSlide = $(\".js-slide[data-slide='\" + 1 + \"']\");\r\n\t\t\t} else {\r\n\t\t\t\t$nextSlide = $(\".js-slide[data-slide='\" + (index + 1) + \"']\")\r\n\t\t\t}\r\n\t\t\t_.delay(function(){\r\n\t\t\t\t$nextSlide.addClass('active');\r\n\t\t\t}, 150);\r\n\t\t\t$allButtons.addClass('disabled');\r\n\t\t\t_.delay(function(){\r\n\t\t\t\t$nextSlide.addClass('even').removeClass('odd');\r\n\t\t\t\t$parent.addClass('odd').removeClass('even');\r\n\t\t\t\t$allButtons.removeClass('disabled');\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t},\r\n\trender: function () {\r\n\r\n\t}\r\n});","window.ss.views.Carousel = Backbone.View.extend({\r\n\tel: '.js-carousel',\r\n\tevents: {\r\n\t\t'click .js-carouselLink': 'changeSlideClick'\r\n\t},\r\n\tinitialize: function () {\r\n\t\tthis.currentItem = 0;\r\n\t\tthis.$links = this.$('.js-carouselLink');\r\n\t\tthis.$slideHolder = this.$('.js-carouselSlides');\r\n\t\tthis.$items = this.$('.js-carouselItem');\r\n\t\tthis.timeout = 0;\r\n\t\tif (this.$el.attr('data-autorefresh')){\r\n\t\t\tthis.restartTimer();\r\n\t\t}\r\n\t},\r\n\tchangeSlideClick: function(e) {\r\n\t\te.preventDefault();\r\n\t\tthis.currentItem = $(e.currentTarget).parent().index();\r\n\t\tthis.changeSlide();\r\n\t},\r\n\tchangeSlide: function() {\r\n\t\t// Check boundaries\r\n\t\tthis.currentItem = (this.currentItem >= this.$links.length) ?\r\n\t\t    0 :\r\n\t\t    this.currentItem;\r\n\t\t// Set links colors\r\n\t\tthis.$links.filter('.active').removeClass('active');\r\n\t\tthis.$links.eq(this.currentItem).addClass('active');\r\n\t\t// Set slide\r\n\t\tthis.$slideHolder.transition({y: - this.currentItem * 350});\r\n\r\n\t\tthis.restartTimer();\r\n\t},\r\n\trestartTimer: function() {\r\n\t\tclearTimeout(this.timeout);\r\n\t\tthis.timeout = setTimeout(this.nextSlide.bind(this), 5000);\r\n\t},\r\n\tnextSlide: function() {\r\n\t\tthis.currentItem += 1;\r\n\t\tthis.changeSlide();\r\n\t}\r\n});","window.ss.views.Catalog = Backbone.View.extend({\r\n\tel: '.js-catalog',\r\n\tevents: {\r\n\t\t'click .js-sort': 'sort'\r\n\t},\r\n\tsort: function(){\r\n\t\t\r\n\t}\r\n});","window.ss.views.Gallery = Backbone.View.extend({\r\n\tel: '.js-gallery',\r\n\tevents: {\r\n\t\t'click .js-listItem': 'showImage'\r\n\t},\r\n\tinitialize: function(){\r\n\t\tvar self = this;\r\n\t\tsetInterval(function(){\r\n\t\t\tif (parseInt($(self.el).find('.js-listItem.active').index()) + 1 !== parseInt($(self.el).find('.js-listItem').length)){\r\n\t\t\t\tvar index = parseInt($(self.el).find('.js-listItem.active').index()) + 2;\r\n\t\t\t\t$('.js-listItem[data-slideId=\"'+ index +'\"]').trigger('click');\r\n\t\t\t} else {\r\n\t\t\t\t$('.js-listItem').eq(0).trigger('click');\r\n\t\t\t}\r\n\t\t}, 10000);\r\n\t},\r\n\tshowImage: function(e){\r\n\t\te.preventDefault();\r\n\t\tvar $self = $(e.currentTarget);\r\n\t\tvar slideId = parseInt($(e.currentTarget).attr('data-slideId'));\r\n\t\t$('.js-listItem.active').removeClass('active');\r\n\t\t$self.addClass('active');\r\n\t\t$('.js-fancybox').fadeOut();\r\n\t\t$(this.el).find('.js-fancybox[data-slideId=\"' + slideId + '\"]').fadeIn();\r\n\t}\r\n})","$(function () {\r\n\twindow.ssApp = new window.ss.views.App();\r\n});"],"sourceRoot":"/source/"}