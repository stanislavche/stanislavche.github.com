(function(){function t(t){function e(e,n,r,i,o,a){for(;o>=0&&a>o;o+=t){var s=i?i[o]:o;r=n(r,e[s],s,e)}return r}return function(n,r,i,o){r=w(r,o,4);var a=!T(n)&&y.keys(n),s=(a||n).length,u=t>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=t),e(n,r,i,a,u,s)}}function e(t){return function(e,n,r){n=b(n,r);for(var i=O(e),o=t>0?0:i-1;o>=0&&i>o;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(r,i,o){var a=0,s=O(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(l.call(r,a,s),y.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&s>o;o+=t)if(r[o]===i)return o;return-1}}function r(t,e){var n=I.length,r=t.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)o=I[n],o in t&&t[o]!==i[o]&&!y.contains(e,o)&&e.push(o)}var i=this,o=i._,a=Array.prototype,s=Object.prototype,u=Function.prototype,c=a.push,l=a.slice,h=s.toString,f=s.hasOwnProperty,p=Array.isArray,d=Object.keys,g=u.bind,v=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var w=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,n){return null==t?y.identity:y.isFunction(t)?w(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return b(t,e,1/0)};var x=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;s>u;u++){var c=a[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}},_=function(t){if(!y.isObject(t))return{};if(v)return v(t);m.prototype=t;var e=new m;return m.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,O=k("length"),T=function(t){var e=O(t);return"number"==typeof e&&e>=0&&S>=e};y.each=y.forEach=function(t,e,n){e=w(e,n);var r,i;if(T(t))for(r=0,i=t.length;i>r;r++)e(t[r],r,t);else{var o=y.keys(t);for(r=0,i=o.length;i>r;r++)e(t[o[r]],o[r],t)}return t},y.map=y.collect=function(t,e,n){e=b(e,n);for(var r=!T(t)&&y.keys(t),i=(r||t).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var r;return r=T(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==r&&-1!==r?t[r]:void 0},y.filter=y.select=function(t,e,n){var r=[];return e=b(e,n),y.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(b(e)),n)},y.every=y.all=function(t,e,n){e=b(e,n);for(var r=!T(t)&&y.keys(t),i=(r||t).length,o=0;i>o;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=b(e,n);for(var r=!T(t)&&y.keys(t),i=(r||t).length,o=0;i>o;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,r){return T(t)||(t=y.values(t)),("number"!=typeof n||r)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=l.call(arguments,2),r=y.isFunction(e);return y.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var r,i,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=T(t)?t:y.values(t);for(var s=0,u=t.length;u>s;s++)r=t[s],r>o&&(o=r)}else e=b(e,n),y.each(t,function(t,n,r){i=e(t,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=t,a=i)});return o},y.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e&&null!=t){t=T(t)?t:y.values(t);for(var s=0,u=t.length;u>s;s++)r=t[s],o>r&&(o=r)}else e=b(e,n),y.each(t,function(t,n,r){i=e(t,n,r),(a>i||i===1/0&&o===1/0)&&(o=t,a=i)});return o},y.shuffle=function(t){for(var e,n=T(t)?t:y.values(t),r=n.length,i=Array(r),o=0;r>o;o++)e=y.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},y.sample=function(t,e,n){return null==e||n?(T(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=b(e,n),y.pluck(y.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var E=function(t){return function(e,n,r){var i={};return n=b(n,r),y.each(e,function(r,o){var a=n(r,o,e);t(i,r,a)}),i}};y.groupBy=E(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=E(function(t,e,n){t[n]=e}),y.countBy=E(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?l.call(t):T(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:T(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=b(e,n);var r=[],i=[];return y.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},y.first=y.head=y.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var C=function(t,e,n,r){for(var i=[],o=0,a=r||0,s=O(t);s>a;a++){var u=t[a];if(T(u)&&(y.isArray(u)||y.isArguments(u))){e||(u=C(u,e,n));var c=0,l=u.length;for(i.length+=l;l>c;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};y.flatten=function(t,e){return C(t,e,!1)},y.without=function(t){return y.difference(t,l.call(arguments,1))},y.uniq=y.unique=function(t,e,n,r){y.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=b(n,r));for(var i=[],o=[],a=0,s=O(t);s>a;a++){var u=t[a],c=n?n(u,a,t):u;e?(a&&o===c||i.push(u),o=c):n?y.contains(o,c)||(o.push(c),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(C(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=O(t);i>r;r++){var o=t[r];if(!y.contains(e,o)){for(var a=1;n>a&&y.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},y.difference=function(t){var e=C(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,O).length||0,n=Array(e),r=0;e>r;r++)n[r]=y.pluck(t,r);return n},y.object=function(t,e){for(var n={},r=0,i=O(t);i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,r){n=b(n,r,1);for(var i=n(e),o=0,a=O(t);a>o;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;r>o;o++,t+=n)i[o]=t;return i};var A=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=_(t.prototype),a=t.apply(o,i);return y.isObject(a)?a:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,l.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),r=function(){return A(t,r,e,this,n.concat(l.call(arguments)))};return r},y.partial=function(t){var e=l.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),a=0;i>a;a++)o[a]=e[a]===y?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return A(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return y.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:y.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var c=y.now();s||n.leading!==!1||(s=c);var l=e-(c-s);return r=this,i=arguments,0>=l||l>e?(a&&(clearTimeout(a),a=null),s=c,o=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,l)),o}},y.debounce=function(t,e,n){var r,i,o,a,s,u=function(){var c=y.now()-a;e>c&&c>=0?r=setTimeout(u,e-c):(r=null,n||(s=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=y.now();var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(s=t.apply(o,i),o=i=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},y.once=y.partial(y.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return M&&r(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return M&&r(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},y.mapObject=function(t,e,n){e=b(e,n);for(var r,i=y.keys(t),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=e(t[r],r,t);return a},y.pairs=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},y.invert=function(t){for(var e={},n=y.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(t,e,n){e=b(e,n);for(var r,i=y.keys(t),o=0,a=i.length;a>o;o++)if(r=i[o],e(t[r],r,t))return r},y.pick=function(t,e,n){var r,i,o={},a=t;if(null==a)return o;y.isFunction(e)?(i=y.allKeys(a),r=w(e,n)):(i=C(arguments,!1,!1,1),r=function(t,e,n){return e in n},a=Object(a));for(var s=0,u=i.length;u>s;s++){var c=i[s],l=a[c];r(l,c,a)&&(o[c]=l)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var r=y.map(C(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(r,e)}}return y.pick(t,e,n)},y.defaults=x(y.allKeys,!0),y.create=function(t,e){var n=_(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;r>o;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var j=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var i=h.call(t);if(i!==h.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!j(t[u],e[u],n,r))return!1}else{var c,l=y.keys(t);if(u=l.length,y.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!y.has(e,c)||!j(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(t,e){return j(t,e)},y.isEmpty=function(t){return null==t?!0:T(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=p||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&f.call(t,e)},y.noConflict=function(){return i._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=k,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var r=Array(Math.max(0,t));e=w(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=y.invert(P),W=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};y.escape=W(P),y.unescape=W(R),y.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),y.isFunction(r)?r.call(t):r};var F=0;y.uniqueId=function(t){var e=++F+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,z=function(t){return"\\"+$[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var r=RegExp([(e.escape||H).source,(e.interpolate||H).source,(e.evaluate||H).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(D,z),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(t){return a.call(this,t,y)},c=e.variable||"obj";return u.source="function("+c+"){\n"+o+"}",u},y.chain=function(t){var e=y(t);return e._chain=!0,e};var L=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),L(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],L(this,n)}}),y.each(["concat","join","slice"],function(t){var e=a[t];y.prototype[t]=function(){return L(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this),function(t){var e,n;return n="undefined"!=typeof window&&null!==window?window:global,n.BarRating=e=function(){function e(){this.show=function(){var e,n,r,i,o=this.$elem,a=this.options;o.data("barrating")||(i=a.initialRating?t('option[value="'+a.initialRating+'"]',o):t("option:selected",o),o.data("barrating",{userOptions:a,currentRatingValue:i.val(),currentRatingText:i.data("html")?i.data("html"):i.text(),originalRatingValue:i.val(),originalRatingText:i.data("html")?i.data("html"):i.text()}),e=t("<div />",{"class":"br-widget"}).insertAfter(o),o.find("option").each(function(){var n,r,i,o,s;n=t(this).val(),n&&(r=t(this).text(),i=t(this).data("html"),i&&(r=i),o=t("<a />",{href:"#","data-rating-value":n,"data-rating-text":r}),s=t("<span />",{html:a.showValues?r:""}),e.append(o.append(s)))}),a.showSelectedRating&&e.append(t("<div />",{text:"","class":"br-current-rating"})),o.data("barrating").deselectable=o.find("option:first").val()?!1:!0,r=a.reverse?"nextAll":"prevAll",a.reverse&&e.addClass("br-reverse"),a.readonly&&e.addClass("br-readonly"),e.on("ratingchange",function(e,n,r){n=n?n:o.data("barrating").currentRatingValue,r=r?r:o.data("barrating").currentRatingText,o.find('option[value="'+n+'"]').prop("selected",!0),o.change(),a.showSelectedRating&&t(this).find(".br-current-rating").text(r)}).trigger("ratingchange"),e.on("ratingstyle",function(n){e.find("a").removeClass("br-selected br-current"),t(this).find('a[data-rating-value="'+o.data("barrating").currentRatingValue+'"]').addClass("br-selected br-current")[r]().addClass("br-selected")}).trigger("ratingstyle"),n=e.find("a"),n.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t(this).click()}),a.readonly&&n.on("click",function(t){t.preventDefault()}),a.readonly||(n.on("click",function(i){var s,u,c=t(this);return i.preventDefault(),n.removeClass("br-active br-selected"),c.addClass("br-selected")[r]().addClass("br-selected"),s=c.attr("data-rating-value"),u=c.attr("data-rating-text"),c.hasClass("br-current")&&o.data("barrating").deselectable?(c.removeClass("br-selected br-current")[r]().removeClass("br-selected br-current"),s="",u=""):(n.removeClass("br-current"),c.addClass("br-current")),o.data("barrating").currentRatingValue=s,o.data("barrating").currentRatingText=u,e.trigger("ratingchange"),a.onSelect.call(this,o.data("barrating").currentRatingValue,o.data("barrating").currentRatingText),!1}),n.on({mouseenter:function(){var i=t(this);n.removeClass("br-active").removeClass("br-selected"),i.addClass("br-active")[r]().addClass("br-active"),e.trigger("ratingchange",[i.attr("data-rating-value"),i.attr("data-rating-text")])}}),e.on({mouseleave:function(){n.removeClass("br-active"),e.trigger("ratingchange").trigger("ratingstyle")}})),o.hide())},this.set=function(t){this.$elem.find('option[value="'+t+'"]').val()&&(this.$elem.data("barrating").currentRatingValue=t,this.$elem.data("barrating").currentRatingText=this.$elem.find('option[value="'+t+'"]').text(),this.$widget.trigger("ratingchange").trigger("ratingstyle"))},this.clear=function(){this.$elem.data("barrating").currentRatingValue=this.$elem.data("barrating").originalRatingValue,this.$elem.data("barrating").currentRatingText=this.$elem.data("barrating").originalRatingText,this.$widget.trigger("ratingchange").trigger("ratingstyle"),this.$elem.data("barrating").userOptions.onClear.call(this,this.$elem.data("barrating").currentRatingValue,this.$elem.data("barrating").currentRatingText)},this.destroy=function(){var t=this.$elem.data("barrating").currentRatingValue,e=this.$elem.data("barrating").currentRatingText,n=this.$elem.data("barrating").userOptions;this.$elem.removeData("barrating"),this.$widget.off().remove(),this.$elem.show(),n.onDestroy.call(this,t,e)}}return e.prototype.init=function(e,n){var r;return r=this,r.elem=n,r.$elem=t(n),r.options=t.extend({},t.fn.barrating.defaults,e)},e}(),t.fn.barrating=function(n,r){return this.each(function(){var i=new e;if(t(this).is("select")||t.error("Sorry, this plugin only works with select fields."),i.hasOwnProperty(n)){if(i.init(r,this),"show"===n)return i.show(r);if(i.$widget=t(this).next(".br-widget"),i.$widget&&i.$elem.data("barrating"))return i[n](r)}else{if("object"==typeof n||!n)return r=n,i.init(r,this),i.show();t.error("Method "+n+" does not exist on jQuery.barrating")}})},t.fn.barrating.defaults={initialRating:null,showValues:!1,showSelectedRating:!0,reverse:!1,readonly:!1,onSelect:function(t,e){},onClear:function(t,e){},onDestroy:function(t,e){}}}(jQuery),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if("undefined"!=typeof exports){var n=require("underscore");e(t,exports,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,r){{var i=t.Backbone,o=[],a=(o.push,o.slice);o.splice}e.VERSION="1.1.2",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={on:function(t,e,n){if(!c(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,r){if(!c(this,"once",t,[e,r])||!e)return this;var i=this,o=n.once(function(){i.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,r)},off:function(t,e,r){var i,o,a,s,u,l,h,f;if(!this._events||!c(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._events=void 0,this;for(s=t?[t]:n.keys(this._events),u=0,l=s.length;l>u;u++)if(t=s[u],a=this._events[t]){if(this._events[t]=i=[],e||r)for(h=0,f=a.length;f>h;h++)o=a[h],(e&&e!==o.callback&&e!==o.callback._callback||r&&r!==o.context)&&i.push(o);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&l(n,e),r&&l(r,arguments),this},stopListening:function(t,e,r){var i=this._listeningTo;if(!i)return this;var o=!e&&!r;r||"object"!=typeof e||(r=this),t&&((i={})[t._listenId]=t);for(var a in i)t=i[a],t.off(e,r,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[a];return this}},u=/\s+/,c=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(u.test(n)){for(var o=n.split(u),a=0,s=o.length;s>a;a++)t[e].apply(t,[o[a]].concat(r));return!1}return!0},l=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(t,e){s[e]=function(e,r,i){var o=this._listeningTo||(this._listeningTo={}),a=e._listenId||(e._listenId=n.uniqueId("l"));return o[a]=e,i||"object"!=typeof r||(i=this),e[t](r,i,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(e,s);var f=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,r){var i,o,a,s,u,c,l,h;if(null==t)return this;if("object"==typeof t?(o=t,r=e):(o={})[t]=e,r||(r={}),!this._validate(o,r))return!1;a=r.unset,u=r.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,l=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(i in o)e=o[i],n.isEqual(h[i],e)||s.push(i),n.isEqual(l[i],e)?delete this.changed[i]:this.changed[i]=e,a?delete h[i]:h[i]=e;if(!u){s.length&&(this._pending=r);for(var f=0,p=s.length;p>f;f++)this.trigger("change:"+s[f],this,h[s[f]],r)}if(c)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(i[o],e=t[o])||((r||(r={}))[o]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(r&&r(e,n,t),void e.trigger("sync",e,n,t)):!1},H(this,t),this.sync("read",this,t)},save:function(t,e,r){var i,o,a,s=this.attributes;if(null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},s,i)),void 0===r.parse&&(r.parse=!0);var u=this,c=r.success;return r.success=function(t){u.attributes=s;var e=u.parse(t,r);return r.wait&&(e=n.extend(i||{},e)),n.isObject(e)&&!u.set(e,r)?!1:(c&&c(u,t,r),void u.trigger("sync",u,t,r))},H(this,r),o=this.isNew()?"create":r.patch?"patch":"update","patch"===o&&(r.attrs=i),a=this.sync(o,this,r),i&&r.wait&&(this.attributes=s),a},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&i(),r&&r(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;H(this,t);var o=this.sync("delete",this,t);return t.wait||i(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];n.each(p,function(t){f.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var d=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};n.extend(d.prototype,s,{model:f,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,v))},remove:function(t,e){var r=!n.isArray(t);t=r?[t]:n.clone(t),e||(e={});var i,o,a,s;for(i=0,o=t.length;o>i;i++)s=t[i]=this.get(t[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,e.silent||(e.index=a,s.trigger("remove",s,this,e)),this._removeReference(s,e));return r?t[0]:t},set:function(t,e){e=n.defaults({},e,g),e.parse&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:n.clone(t);var i,o,a,s,u,c,l,h=e.at,p=this.model,d=this.comparator&&null==h&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],w={},b=e.add,x=e.merge,_=e.remove,k=!d&&b&&_?[]:!1;for(i=0,o=t.length;o>i;i++){if(u=t[i]||{},a=u instanceof f?s=u:u[p.prototype.idAttribute||"id"],c=this.get(a))_&&(w[c.cid]=!0),x&&(u=u===s?s.attributes:u,e.parse&&(u=c.parse(u,e)),c.set(u,e),d&&!l&&c.hasChanged(v)&&(l=!0)),t[i]=c;else if(b){if(s=t[i]=this._prepareModel(u,e),!s)continue;m.push(s),this._addReference(s,e)}s=c||s,!k||!s.isNew()&&w[s.id]||k.push(s),w[s.id]=!0}if(_){for(i=0,o=this.length;o>i;++i)w[(s=this.models[i]).cid]||y.push(s);y.length&&this.remove(y,e)}if(m.length||k&&k.length)if(d&&(l=!0),this.length+=m.length,null!=h)for(i=0,o=m.length;o>i;i++)this.models.splice(h+i,0,m[i]);else{k&&(this.models.length=0);var S=k||m;for(i=0,o=S.length;o>i;i++)this.models.push(S[i])}if(l&&this.sort({silent:!0}),!e.silent){for(i=0,o=m.length;o>i;i++)(s=m[i]).trigger("add",s,this,e);(l||k&&k.length)&&this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e||(e={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return a.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e(r,n,t),r.trigger("sync",r,n,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var r=this,i=e.success;return e.success=function(t,n){e.wait&&r.add(t,e),i&&i(t,n,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof f)return t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];

n.each(m,function(t){d.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(t){d.prototype[t]=function(e,r){var i=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,i,r)}});var w=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(w.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[t[e]]),r){var i=e.match(b),o=i[1],a=i[2];r=n.bind(r,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,r):this.$el.on(o,a,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var r=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(r,!1)}}}),e.sync=function(t,r,i){var o=k[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||F()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1),"PATCH"===a.type&&_&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,u,i),u};var _=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var S=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,E=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(S.prototype,s,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);o.execute(i,a),o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(C,"\\$&").replace(O,"(?:$1)?").replace(T,function(t,e){return e?t:"([^/?]+)"}).replace(E,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var A=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,j=/msie [\w.]+/,P=/\/$/,R=/#.*$/;A.started=!1,n.extend(A.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(P,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(M,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,o=j.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);if(this.root=("/"+this.root+"/").replace(I,"/"),o&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(M,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!A.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(R,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new A;var W=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};f.extend=d.extend=S.extend=w.extend=A.extend=W;var F=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}};return e}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.ProgressBar=t()}}(function(){var t;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,n,r){!function(e){"undefined"==typeof SHIFTY_DEBUG_NOW&&(SHIFTY_DEBUG_NOW=function(){return+new Date});var i=function(){"use strict";function i(){}function o(t,e){var n;for(n in t)Object.hasOwnProperty.call(t,n)&&e(n)}function a(t,e){return o(e,function(n){t[n]=e[n]}),t}function s(t,e){o(e,function(n){"undefined"==typeof t[n]&&(t[n]=e[n])})}function u(t,e,n,r,i,o,a){var s,u=(t-o)/i;for(s in e)e.hasOwnProperty(s)&&(e[s]=c(n[s],r[s],d[a[s]],u));return e}function c(t,e,n,r){return t+(e-t)*n(r)}function l(t,e){var n=p.prototype.filter,r=t._filterArgs;o(n,function(i){"undefined"!=typeof n[i][e]&&n[i][e].apply(t,r)})}function h(t,e,n,r,i,o,a,s,c){x=e+n,_=Math.min(b(),x),k=_>=x,t.isPlaying()&&!k?(c(t._timeoutHandler,y),l(t,"beforeTween"),u(_,r,i,o,n,e,a),l(t,"afterTween"),s(r)):k&&(s(o),t.stop(!0))}function f(t,e){var n={};return"string"==typeof e?o(t,function(t){n[t]=e}):o(t,function(t){n[t]||(n[t]=e[t]||v)}),n}function p(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=g,"undefined"!=typeof e&&this.setConfig(e)}var d,g,v="linear",m=500,y=1e3/60,w=Date.now?Date.now:function(){return+new Date},b=SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:w;g="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var x,_,k;return p.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._start(this.get()),this.resume())},p.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._pausedAtTime=null,this._start=t.start||i,this._step=t.step||i,this._finish=t.finish||i,this._duration=t.duration||m,this._currentState=t.from||this.get(),this._originalState=this.get(),this._targetState=t.to||this.get(),this._timestamp=b();var e=this._currentState,n=this._targetState;return s(n,e),this._easing=f(e,t.easing||v),this._filterArgs=[e,this._originalState,n,this._easing],l(this,"tweenCreated"),this},p.prototype.get=function(){return a({},this._currentState)},p.prototype.set=function(t){this._currentState=t},p.prototype.pause=function(){return this._pausedAtTime=b(),this._isPaused=!0,this},p.prototype.resume=function(){this._isPaused&&(this._timestamp+=b()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0;var t=this;return this._timeoutHandler=function(){h(t,t._timestamp,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)},this._timeoutHandler(),this},p.prototype.stop=function(t){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=i,t&&(a(this._currentState,this._targetState),l(this,"afterTweenEnd"),this._finish.call(this,this._currentState)),this},p.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},p.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},p.prototype.dispose=function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t]},p.prototype.filter={},p.prototype.formula={linear:function(t){return t}},d=p.prototype.formula,a(p,{now:b,each:o,tweenProps:u,tweenProp:c,applyFilter:l,shallowCopy:a,defaults:s,composeEasingObject:f}),"function"==typeof SHIFTY_DEBUG_NOW&&(e.timeoutHandler=h),"object"==typeof r?n.exports=p:"function"==typeof t&&t.amd?t(function(){return p}):"undefined"==typeof e.Tweenable&&(e.Tweenable=p),p}();!function(){i.shallowCopy(i.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin(2*(6*t-1)*Math.PI/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?2-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}})}(),function(){function t(t,e,n,r,i,o){function a(t){return((p*t+d)*t+g)*t}function s(t){return((v*t+m)*t+y)*t}function u(t){return(3*p*t+2*d)*t+g}function c(t){return 1/(200*t)}function l(t,e){return s(f(t,e))}function h(t){return t>=0?t:0-t}function f(t,e){var n,r,i,o,s,c;for(i=t,c=0;8>c;c++){if(o=a(i)-t,h(o)<e)return i;if(s=u(i),h(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=t,n>i)return n;if(i>r)return r;for(;r>n;){if(o=a(i),h(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i}var p=0,d=0,g=0,v=0,m=0,y=0;return g=3*e,d=3*(r-e)-g,p=1-g-d,y=3*n,m=3*(i-n)-y,v=1-y-m,l(t,c(o))}function e(e,n,r,i){return function(o){return t(o,e,n,r,i,1)}}i.setBezierFunction=function(t,n,r,o,a){var s=e(n,r,o,a);return s.x1=n,s.y1=r,s.x2=o,s.y2=a,i.prototype.formula[t]=s},i.unsetBezierFunction=function(t){delete i.prototype.formula[t]}}(),function(){function t(t,e,n,r,o){return i.tweenProps(r,e,t,n,1,0,o)}var e=new i;e._filterArgs=[],i.interpolate=function(n,r,o,a){var s=i.shallowCopy({},n),u=i.composeEasingObject(n,a||"linear");e.set({});var c=e._filterArgs;c.length=0,c[0]=s,c[1]=n,c[2]=r,c[3]=u,i.applyFilter(e,"tweenCreated"),i.applyFilter(e,"beforeTween");var l=t(n,s,r,o,u);return i.applyFilter(e,"afterTween"),l}}(),function(t){function e(t,e){E.length=0;var n,r=t.length;for(n=0;r>n;n++)E.push("_"+e+"_"+n);return E}function n(t){var e=t.match(x);return e?(1===e.length||t[0].match(b))&&e.unshift(""):e=["",""],e.join(T)}function r(e){t.each(e,function(t){var n=e[t];"string"==typeof n&&n.match(O)&&(e[t]=i(n))})}function i(t){return u(O,t,o)}function o(t){var e=a(t);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}function a(t){return t=t.replace(/#/,""),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),C[0]=s(t.substr(0,2)),C[1]=s(t.substr(2,2)),C[2]=s(t.substr(4,2)),C}function s(t){return parseInt(t,16)}function u(t,e,n){var r=e.match(t),i=e.replace(t,T);if(r)for(var o,a=r.length,s=0;a>s;s++)o=r.shift(),i=i.replace(T,n(o));return i}function c(t){return u(k,t,l)}function l(t){for(var e=t.match(_),n=e.length,r=t.match(S)[0],i=0;n>i;i++)r+=parseInt(e[i],10)+",";return r=r.slice(0,-1)+")"}function h(r){var i={};return t.each(r,function(t){var o=r[t];if("string"==typeof o){var a=m(o);i[t]={formatString:n(o),chunkNames:e(a,t)}}}),i}function f(e,n){t.each(n,function(t){for(var r=e[t],i=m(r),o=i.length,a=0;o>a;a++)e[n[t].chunkNames[a]]=+i[a];delete e[t]})}function p(e,n){t.each(n,function(t){var r=e[t],i=d(e,n[t].chunkNames),o=g(i,n[t].chunkNames);r=v(n[t].formatString,o),e[t]=c(r)})}function d(t,e){for(var n,r={},i=e.length,o=0;i>o;o++)n=e[o],r[n]=t[n],delete t[n];return r}function g(t,e){A.length=0;for(var n=e.length,r=0;n>r;r++)A.push(t[e[r]]);return A}function v(t,e){for(var n=t,r=e.length,i=0;r>i;i++)n=n.replace(T,+e[i].toFixed(4));return n}function m(t){return t.match(_)}function y(e,n){t.each(n,function(t){for(var r=n[t],i=r.chunkNames,o=i.length,a=e[t].split(" "),s=a[a.length-1],u=0;o>u;u++)e[i[u]]=a[u]||s;delete e[t]})}function w(e,n){t.each(n,function(t){for(var r=n[t],i=r.chunkNames,o=i.length,a="",s=0;o>s;s++)a+=" "+e[i[s]],delete e[i[s]];e[t]=a.substr(1)})}var b=/(\d|\-|\.)/,x=/([^\-0-9\.]+)/g,_=/[0-9.\-]+/g,k=new RegExp("rgb\\("+_.source+/,\s*/.source+_.source+/,\s*/.source+_.source+"\\)","g"),S=/^.*\(/,O=/#([0-9]|[a-f]){3,6}/gi,T="VAL",E=[],C=[],A=[];t.prototype.filter.token={tweenCreated:function(t,e,n,i){r(t),r(e),r(n),this._tokenData=h(t)},beforeTween:function(t,e,n,r){y(r,this._tokenData),f(t,this._tokenData),f(e,this._tokenData),f(n,this._tokenData)},afterTween:function(t,e,n,r){p(t,this._tokenData),p(e,this._tokenData),p(n,this._tokenData),w(r,this._tokenData)}}}(i)}(this)},{}],2:[function(t,e,n){var r=t("./progress"),i=t("./utils"),o=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",r.apply(this,arguments)};o.prototype=new r,o.prototype.constructor=o,o.prototype._pathString=function(t){var e=50-t.strokeWidth/2;return i.render(this._pathTemplate,{radius:e,"2radius":2*e})},o.prototype._trailString=function(t){return this._pathString(t)},e.exports=o},{"./progress":6,"./utils":8}],3:[function(t,e,n){var r=t("./progress"),i=t("./utils"),o=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",r.apply(this,arguments)};o.prototype=new r,o.prototype.constructor=o,o.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},o.prototype._pathString=function(t){return i.render(this._pathTemplate,{center:t.strokeWidth/2})},o.prototype._trailString=function(t){return this._pathString(t)},e.exports=o},{"./progress":6,"./utils":8}],4:[function(t,e,n){var r=t("./line"),i=t("./circle"),o=t("./square"),a=t("./path");e.exports={Line:r,Circle:i,Square:o,Path:a}},{"./circle":2,"./line":3,"./path":5,"./square":7}],5:[function(t,e,n){var r=t("shifty"),i=t("./utils"),o={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},a=function(t,e){e=i.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},e),this._path=t,this._opts=e,this._tweenable=null;var n=this._path.getTotalLength();this._path.style.strokeDasharray=n+" "+n,this._path.style.strokeDashoffset=n};a.prototype.value=function(){var t=window.getComputedStyle(this._path,null),e=t.getPropertyValue("stroke-dashoffset");e=parseFloat(e,10);var n=this._path.getTotalLength(),r=1-e/n;return parseFloat(r.toFixed(10),10)},a.prototype.set=function(t){this.stop();var e=this._path.getTotalLength();this._path.style.strokeDashoffset=e-t*e},a.prototype.stop=function(){this._stopTween();var t=window.getComputedStyle(this._path,null),e=t.getPropertyValue("stroke-dashoffset");this._path.style.strokeDashoffset=e},a.prototype.animate=function(t,e,n){e=e||{},i.isFunction(e)&&(n=e,e={});var o=e,a=i.extend({},this._opts);e=i.extend(a,e);var s=this._easing(e.easing),u=this._resolveFromAndTo(t,s,o);this.stop(),this._path.getBoundingClientRect();var c=window.getComputedStyle(this._path,null),l=c.getPropertyValue("stroke-dashoffset");l=parseFloat(l,10);var h=this._path.getTotalLength(),f=h-t*h,p=this;this._tweenable=new r,this._tweenable.tween({from:i.extend({offset:l},u.from),to:i.extend({offset:f},u.to),duration:e.duration,easing:s,step:function(t){p._path.style.strokeDashoffset=t.offset,e.step(t,e.attachment)},finish:function(t){p._path.style.strokeDashoffset=t.offset,e.step(t,e.attachment),i.isFunction(n)&&n()}})},a.prototype._resolveFromAndTo=function(t,e,n){if(n.from&&n.to)return{from:n.from,to:n.to};var i=r.interpolate(this._opts.from,this._opts.to,this.value(),e),o=r.interpolate(this._opts.from,this._opts.to,t,e);return{from:i,to:o}},a.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable.dispose(),this._tweenable=null)},a.prototype._easing=function(t){return o.hasOwnProperty(t)?o[t]:t},e.exports=a},{"./utils":8,shifty:1}],6:[function(t,e,n){var r=t("./path"),i=t("./utils"),o="Object is destroyed",a="Constructor was called without new keyword",s=function u(t,e){if(!(this instanceof u))throw new Error(a);if(0!==arguments.length){var n,o=this._createSvgView(e);n=i.isString(t)?document.querySelector(t):t,n.appendChild(o.svg);var s=i.extend({attachment:this},e);this._progressPath=new r(o.path,s),this.svg=o.svg,this.path=o.path,this.trail=o.trail}};s.prototype.animate=function(t,e,n){if(null===this._progressPath)throw new Error(o);this._progressPath.animate(t,e,n)},s.prototype.stop=function(){if(null===this._progressPath)throw new Error(o);this._progressPath.stop()},s.prototype.destroy=function(){if(null===this._progressPath)throw new Error(o);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null},s.prototype.set=function(t){if(null===this._progressPath)throw new Error(o);this._progressPath.set(t)},s.prototype.value=function(){if(null===this._progressPath)throw new Error(o);return this._progressPath.value()},s.prototype._createSvgView=function(t){t=i.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null},t);var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var n=null;(t.trailColor||t.trailWidth)&&(n=this._createTrail(t),e.appendChild(n));var r=this._createPath(t);return e.appendChild(r),{svg:e,path:r,trail:n}},s.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},s.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},s.prototype._createTrail=function(t){var e=this._trailString(t),n=i.extend({},t);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(e,n)},s.prototype._createPathElement=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n.setAttribute("stroke",e.color),n.setAttribute("stroke-width",e.strokeWidth),e.fill?n.setAttribute("fill",e.fill):n.setAttribute("fill-opacity","0"),n},s.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},s.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},e.exports=s},{"./path":5,"./utils":8}],7:[function(t,e,n){var r=t("./progress"),i=t("./utils"),o=function(t,e){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",r.apply(this,arguments)};o.prototype=new r,o.prototype.constructor=o,o.prototype._pathString=function(t){var e=100-t.strokeWidth/2;return i.render(this._pathTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2})},o.prototype._trailString=function(t){var e=100-t.strokeWidth/2;return i.render(this._trailTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2,startMargin:t.strokeWidth/2-t.trailWidth/2})},e.exports=o},{"./progress":6,"./utils":8}],8:[function(t,e,n){function r(t,e){t=t||{},e=e||{};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(t,e){var n=t;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o="\\{"+r+"\\}",a=new RegExp(o,"g");n=n.replace(a,i)}return n}function o(t){return"string"==typeof t||t instanceof String}function a(t){return"function"==typeof t}e.exports={extend:r,render:i,isString:o,isFunction:a}},{}]},{},[4])(4)}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){function e(t){if(t in h.style)return t;for(var e=["Moz","Webkit","O","ms"],n=t.charAt(0).toUpperCase()+t.substr(1),r=0;r<e.length;++r){var i=e[r]+n;if(i in h.style)return i}}function n(){return h.style[f.transform]="",h.style[f.transform]="rotateY(90deg)",""!==h.style[f.transform]}function r(t){return"string"==typeof t&&this.parse(t),this}function i(t,e,n){e===!0?t.queue(n):e?t.queue(e,n):t.each(function(){n.call(this)})}function o(e){var n=[];return t.each(e,function(e){e=t.camelCase(e),e=t.transit.propertyMap[e]||t.cssProps[e]||e,e=u(e),f[e]&&(e=u(f[e])),-1===t.inArray(e,n)&&n.push(e)}),n}function a(e,n,r,i){var a=o(e);t.cssEase[r]&&(r=t.cssEase[r]);var s=""+l(n)+" "+r;parseInt(i,10)>0&&(s+=" "+l(i));var u=[];return t.each(a,function(t,e){u.push(e+" "+s)}),u.join(", ")}function s(e,n){n||(t.cssNumber[e]=!0),t.transit.propertyMap[e]=f.transform,t.cssHooks[e]={get:function(n){var r=t(n).css("transit:transform");return r.get(e)},set:function(n,r){var i=t(n).css("transit:transform");i.setFromString(e,r),t(n).css({"transit:transform":i})}}}function u(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function c(t,e){return"string"!=typeof t||t.match(/^[\-0-9\.]+$/)?""+t+e:t}function l(e){var n=e;return"string"!=typeof n||n.match(/^[\-0-9\.]+/)||(n=t.fx.speeds[n]||t.fx.speeds._default),c(n,"ms")}t.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var h=document.createElement("div"),f={},p=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;f.transition=e("transition"),f.transitionDelay=e("transitionDelay"),f.transform=e("transform"),f.transformOrigin=e("transformOrigin"),f.filter=e("Filter"),f.transform3d=n();var d={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},g=f.transitionEnd=d[f.transition]||null;for(var v in f)f.hasOwnProperty(v)&&"undefined"==typeof t.support[v]&&(t.support[v]=f[v]);return h=null,t.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},t.cssHooks["transit:transform"]={get:function(e){return t(e).data("transform")||new r},set:function(e,n){var i=n;i instanceof r||(i=new r(i)),e.style[f.transform]="WebkitTransform"!==f.transform||p?i.toString():i.toString(!0),t(e).data("transform",i)}},t.cssHooks.transform={set:t.cssHooks["transit:transform"].set},t.cssHooks.filter={get:function(t){return t.style[f.filter]},set:function(t,e){t.style[f.filter]=e}},t.fn.jquery<"1.8"&&(t.cssHooks.transformOrigin={get:function(t){return t.style[f.transformOrigin]},set:function(t,e){t.style[f.transformOrigin]=e}},t.cssHooks.transition={get:function(t){return t.style[f.transition]},set:function(t,e){t.style[f.transition]=e}}),s("scale"),s("scaleX"),s("scaleY"),s("translate"),s("rotate"),s("rotateX"),s("rotateY"),s("rotate3d"),s("perspective"),s("skewX"),s("skewY"),s("x",!0),s("y",!0),r.prototype={setFromString:function(t,e){var n="string"==typeof e?e.split(","):e.constructor===Array?e:[e];n.unshift(t),r.prototype.set.apply(this,n)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);this.setter[t]?this.setter[t].apply(this,e):this[t]=e.join(",")},get:function(t){return this.getter[t]?this.getter[t].apply(this):this[t]||0},setter:{rotate:function(t){this.rotate=c(t,"deg")},rotateX:function(t){this.rotateX=c(t,"deg")},rotateY:function(t){this.rotateY=c(t,"deg")},scale:function(t,e){void 0===e&&(e=t),this.scale=t+","+e},skewX:function(t){this.skewX=c(t,"deg")},skewY:function(t){this.skewY=c(t,"deg")},perspective:function(t){this.perspective=c(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==t&&void 0!==t&&(this._translateX=c(t,"px")),null!==e&&void 0!==e&&(this._translateY=c(e,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");return t[0]&&(t[0]=parseFloat(t[0])),t[1]&&(t[1]=parseFloat(t[1])),t[0]===t[1]?t[0]:t},rotate3d:function(){for(var t=(this.rotate3d||"0,0,0,0deg").split(","),e=0;3>=e;++e)t[e]&&(t[e]=parseFloat(t[e]));return t[3]&&(t[3]=c(t[3],"deg")),t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,n,r){e.setFromString(n,r)})},toString:function(t){var e=[];for(var n in this)if(this.hasOwnProperty(n)){if(!f.transform3d&&("rotateX"===n||"rotateY"===n||"perspective"===n||"transformOrigin"===n))continue;"_"!==n[0]&&e.push(t&&"scale"===n?n+"3d("+this[n]+",1)":t&&"translate"===n?n+"3d("+this[n]+",0)":n+"("+this[n]+")")}return e.join(" ")}},t.fn.transition=t.fn.transit=function(e,n,r,o){var s=this,u=0,c=!0,h=t.extend(!0,{},e);"function"==typeof n&&(o=n,n=void 0),"object"==typeof n&&(r=n.easing,u=n.delay||0,c="undefined"==typeof n.queue?!0:n.queue,o=n.complete,n=n.duration),"function"==typeof r&&(o=r,r=void 0),"undefined"!=typeof h.easing&&(r=h.easing,delete h.easing),"undefined"!=typeof h.duration&&(n=h.duration,delete h.duration),"undefined"!=typeof h.complete&&(o=h.complete,delete h.complete),"undefined"!=typeof h.queue&&(c=h.queue,delete h.queue),"undefined"!=typeof h.delay&&(u=h.delay,delete h.delay),"undefined"==typeof n&&(n=t.fx.speeds._default),
"undefined"==typeof r&&(r=t.cssEase._default),n=l(n);var p=a(h,n,r,u),d=t.transit.enabled&&f.transition,v=d?parseInt(n,10)+parseInt(u,10):0;if(0===v){var m=function(t){s.css(h),o&&o.apply(s),t&&t()};return i(s,c,m),s}var y={},w=function(e){var n=!1,r=function(){n&&s.unbind(g,r),v>0&&s.each(function(){this.style[f.transition]=y[this]||null}),"function"==typeof o&&o.apply(s),"function"==typeof e&&e()};v>0&&g&&t.transit.useTransitionEnd?(n=!0,s.bind(g,r)):window.setTimeout(r,v),s.each(function(){v>0&&(this.style[f.transition]=p),t(this).css(h)})},b=function(t){this.offsetWidth,w(t)};return i(s,c,b),this},t.transit.getTransitionValue=a,t}),function(t,e,n,r){"use strict";var i=n(t),o=n(e),a=n.fancybox=function(){a.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/),u=null,c=e.createTouch!==r,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},h=function(t){return t&&"string"===n.type(t)},f=function(t){return h(t)&&t.indexOf("%")>0},p=function(t){return t&&!(t.style.overflow&&"hidden"===t.style.overflow)&&(t.clientWidth&&t.scrollWidth>t.clientWidth||t.clientHeight&&t.scrollHeight>t.clientHeight)},d=function(t,e){var n=parseInt(t,10)||0;return e&&f(t)&&(n=a.getViewport()[e]/100*n),Math.ceil(n)},g=function(t,e){return d(t,e)+"px"};n.extend(a,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!c,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){return t&&(n.isPlainObject(e)||(e={}),!1!==a.close(!0))?(n.isArray(t)||(t=l(t)?n(t).get():[t]),n.each(t,function(i,o){var s,u,c,f,p,d,g,v={};"object"===n.type(o)&&(o.nodeType&&(o=n(o)),l(o)?(v={href:o.data("fancybox-href")||o.attr("href"),title:o.data("fancybox-title")||o.attr("title"),isDom:!0,element:o},n.metadata&&n.extend(!0,v,o.metadata())):v=o),s=e.href||v.href||(h(o)?o:null),u=e.title!==r?e.title:v.title||"",c=e.content||v.content,f=c?"html":e.type||v.type,!f&&v.isDom&&(f=o.data("fancybox-type"),f||(p=o.prop("class").match(/fancybox\.(\w+)/),f=p?p[1]:null)),h(s)&&(f||(a.isImage(s)?f="image":a.isSWF(s)?f="swf":"#"===s.charAt(0)?f="inline":h(o)&&(f="html",c=o)),"ajax"===f&&(d=s.split(/\s+/,2),s=d.shift(),g=d.shift())),c||("inline"===f?s?c=n(h(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):v.isDom&&(c=o):"html"===f?c=s:f||s||!v.isDom||(f="inline",c=o)),n.extend(v,{href:s,type:f,content:c,title:u,selector:g}),t[i]=v}),a.opts=n.extend(!0,{},a.defaults,e),e.keys!==r&&(a.opts.keys=e.keys?n.extend({},a.defaults.keys,e.keys):!1),a.group=t,a._start(a.opts.index)):void 0},cancel:function(){var t=a.coming;t&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||a._afterZoomOut(t))},close:function(t){a.cancel(),!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(a.isOpen&&t!==!0?(a.isOpen=a.isOpened=!1,a.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fancybox-opened"),a.transitions[a.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(a.player.timer)},r=function(){e(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},i=function(){e(),n("body").unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")},o=function(){a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,n("body").bind({"afterShow.player onUpdate.player":r,"onCancel.player beforeClose.player":i,"beforeLoad.player":e}),r(),a.trigger("onPlayStart"))};t===!0||!a.player.isActive&&t!==!1?o():i()},next:function(t){var e=a.current;e&&(h(t)||(t=e.direction.next),a.jumpto(e.index+1,t,"next"))},prev:function(t){var e=a.current;e&&(h(t)||(t=e.direction.prev),a.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var i=a.current;i&&(t=d(t),a.direction=e||i.direction[t>=i.index?"next":"prev"],a.router=n||"jumpto",i.loop&&(0>t&&(t=i.group.length+t%i.group.length),t%=i.group.length),i.group[t]!==r&&(a.cancel(),a._start(t)))},reposition:function(t,e){var r,i=a.current,o=i?i.wrap:null;o&&(r=a._getPosition(e),t&&"scroll"===t.type?(delete r.position,o.stop(!0,!0).animate(r,200)):(o.css(r),i.pos=n.extend({},i.dim,r)))},update:function(t){var e=t&&t.type,n=!e||"orientationchange"===e;n&&(clearTimeout(u),u=null),a.isOpen&&!u&&(u=setTimeout(function(){var r=a.current;r&&!a.isClosing&&(a.wrap.removeClass("fancybox-tmp"),(n||"load"===e||"resize"===e&&r.autoResize)&&a._setDimension(),"scroll"===e&&r.canShrink||a.reposition(t),a.trigger("onUpdate"),u=null)},n&&!c?0:300))},toggle:function(t){a.isOpen&&(a.current.fitToView="boolean"===n.type(t)?t:!a.current.fitToView,c&&(a.wrap.removeAttr("style").addClass("fancybox-tmp"),a.trigger("onUpdate")),a.update())},hideLoading:function(){o.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var t,e;a.hideLoading(),t=n('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body"),o.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),a.cancel())}),a.defaults.fixed||(e=a.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=a.current&&a.current.locked||!1,n={x:i.scrollLeft(),y:i.scrollTop()};return e?(n.w=e[0].clientWidth,n.h=e[0].clientHeight):(n.w=c&&t.innerWidth?t.innerWidth:i.width(),n.h=c&&t.innerHeight?t.innerHeight:i.height()),n},unbindEvents:function(){a.wrap&&l(a.wrap)&&a.wrap.unbind(".fb"),o.unbind(".fb"),i.unbind(".fb")},bindEvents:function(){var t,e=a.current;e&&(i.bind("orientationchange.fb"+(c?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),a.update),t=e.keys,t&&o.bind("keydown.fb",function(i){var o=i.which||i.keyCode,s=i.target||i.srcElement;return 27===o&&a.coming?!1:void(i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||s&&(s.type||n(s).is("[contenteditable]"))||n.each(t,function(t,s){return e.group.length>1&&s[o]!==r?(a[t](s[o]),i.preventDefault(),!1):n.inArray(o,s)>-1?(a[t](),i.preventDefault(),!1):void 0}))}),n.fn.mousewheel&&e.mouseWheel&&a.wrap.bind("mousewheel.fb",function(t,r,i,o){for(var s=t.target||null,u=n(s),c=!1;u.length&&!(c||u.is(".fancybox-skin")||u.is(".fancybox-wrap"));)c=p(u[0]),u=n(u).parent();0===r||c||a.group.length>1&&!e.canShrink&&(o>0||i>0?a.prev(o>0?"down":"left"):(0>o||0>i)&&a.next(0>o?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var r,i=e||a.coming||a.current;if(i){if(n.isFunction(i[t])&&(r=i[t].apply(i,Array.prototype.slice.call(arguments,1))),r===!1)return!1;i.helpers&&n.each(i.helpers,function(e,r){r&&a.helpers[e]&&n.isFunction(a.helpers[e][t])&&(r=n.extend(!0,{},a.helpers[e].defaults,r),a.helpers[e][t](r,i))}),n.event.trigger(t+".fb")}},isImage:function(t){return h(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(t){return h(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,r,i,o,s,u={};if(t=d(t),e=a.group[t]||null,!e)return!1;if(u=n.extend(!0,{},a.opts,e),o=u.margin,s=u.padding,"number"===n.type(o)&&(u.margin=[o,o,o,o]),"number"===n.type(s)&&(u.padding=[s,s,s,s]),u.modal&&n.extend(!0,u,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),u.autoSize&&(u.autoWidth=u.autoHeight=!0),"auto"===u.width&&(u.autoWidth=!0),"auto"===u.height&&(u.autoHeight=!0),u.group=a.group,u.index=t,a.coming=u,!1===a.trigger("beforeLoad"))return void(a.coming=null);if(i=u.type,r=u.href,!i)return a.coming=null,a.current&&a.router&&"jumpto"!==a.router?(a.current.index=t,a[a.router](a.direction)):!1;if(a.isActive=!0,("image"===i||"swf"===i)&&(u.autoHeight=u.autoWidth=!1,u.scrolling="visible"),"image"===i&&(u.aspectRatio=!0),"iframe"===i&&c&&(u.scrolling="scroll"),u.wrap=n(u.tpl.wrap).addClass("fancybox-"+(c?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+u.wrapCSS).appendTo(u.parent||"body"),n.extend(u,{skin:n(".fancybox-skin",u.wrap),outer:n(".fancybox-outer",u.wrap),inner:n(".fancybox-inner",u.wrap)}),n.each(["Top","Right","Bottom","Left"],function(t,e){u.skin.css("padding"+e,g(u.padding[t]))}),a.trigger("onReady"),"inline"===i||"html"===i){if(!u.content||!u.content.length)return a._error("content")}else if(!r)return a._error("href");"image"===i?a._loadImage():"ajax"===i?a._loadAjax():"iframe"===i?a._loadIframe():a._afterLoad()},_error:function(t){n.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var t=a.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width,a.coming.height=this.height,a._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,a._error("image")},t.src=a.coming.href,t.complete!==!0&&a.showLoading()},_loadAjax:function(){var t=a.coming;a.showLoading(),a.ajaxLoad=n.ajax(n.extend({},t.ajax,{url:t.href,error:function(t,e){a.coming&&"abort"!==e?a._error("ajax",t):a.hideLoading()},success:function(e,n){"success"===n&&(t.content=e,a._afterLoad())}}))},_loadIframe:function(){var t=a.coming,e=n(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":t.iframe.scrolling).attr("src",t.href);n(t.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(a.showLoading(),e.one("load",function(){n(this).data("ready",1),c||n(this).bind("load.fb",a.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),a._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||a._afterLoad()},_preloadImages:function(){var t,e,n=a.group,r=a.current,i=n.length,o=r.preload?Math.min(r.preload,i-1):0;for(e=1;o>=e;e+=1)t=n[(r.index+e)%i],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,r,i,o,s,u=a.coming,c=a.current,h="fancybox-placeholder";if(a.hideLoading(),u&&a.isActive!==!1){if(!1===a.trigger("afterLoad",u,c))return u.wrap.stop(!0).trigger("onReset").remove(),void(a.coming=null);switch(c&&(a.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),a.unbindEvents(),t=u,e=u.content,r=u.type,i=u.scrolling,n.extend(a,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:c}),o=t.href,r){case"inline":case"ajax":case"html":t.selector?e=n("<div>").html(e).find(t.selector):l(e)&&(e.data(h)||e.data(h,n('<div class="'+h+'"></div>').insertAfter(e).hide()),e=e.show().detach(),t.wrap.bind("onReset",function(){n(this).find(e).length&&e.hide().replaceAll(e.data(h)).data(h,!1)}));break;case"image":e=t.tpl.image.replace("{href}",o);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',s="",n.each(t.swf,function(t,n){e+='<param name="'+t+'" value="'+n+'"></param>',s+=" "+t+'="'+n+'"'}),e+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+s+"></embed></object>"}l(e)&&e.parent().is(t.inner)||t.inner.append(e),a.trigger("beforeShow"),t.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),a._setDimension(),a.reposition(),a.isOpen=!1,a.coming=null,a.bindEvents(),a.isOpened?c.prevMethod&&a.transitions[c.prevMethod]():n(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),a.transitions[a.isOpened?t.nextMethod:t.openMethod](),a._preloadImages()}},_setDimension:function(){var t,e,r,i,o,s,u,c,l,h,p,v,m,y,w,b=a.getViewport(),x=0,_=!1,k=!1,S=a.wrap,O=a.skin,T=a.inner,E=a.current,C=E.width,A=E.height,M=E.minWidth,I=E.minHeight,j=E.maxWidth,P=E.maxHeight,R=E.scrolling,W=E.scrollOutside?E.scrollbarWidth:0,F=E.margin,H=d(F[1]+F[3]),$=d(F[0]+F[2]);if(S.add(O).add(T).width("auto").height("auto").removeClass("fancybox-tmp"),t=d(O.outerWidth(!0)-O.width()),e=d(O.outerHeight(!0)-O.height()),r=H+t,i=$+e,o=f(C)?(b.w-r)*d(C)/100:C,s=f(A)?(b.h-i)*d(A)/100:A,"iframe"===E.type){if(y=E.content,E.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(T.width(o).height(9999),w=y.contents().find("body"),W&&w.css("overflow-x","hidden"),s=w.height())}catch(D){}}else(E.autoWidth||E.autoHeight)&&(T.addClass("fancybox-tmp"),E.autoWidth||T.width(o),E.autoHeight||T.height(s),E.autoWidth&&(o=T.width()),E.autoHeight&&(s=T.height()),T.removeClass("fancybox-tmp"));if(C=d(o),A=d(s),l=o/s,M=d(f(M)?d(M,"w")-r:M),j=d(f(j)?d(j,"w")-r:j),I=d(f(I)?d(I,"h")-i:I),P=d(f(P)?d(P,"h")-i:P),u=j,c=P,E.fitToView&&(j=Math.min(b.w-r,j),P=Math.min(b.h-i,P)),v=b.w-H,m=b.h-$,E.aspectRatio?(C>j&&(C=j,A=d(C/l)),A>P&&(A=P,C=d(A*l)),M>C&&(C=M,A=d(C/l)),I>A&&(A=I,C=d(A*l))):(C=Math.max(M,Math.min(C,j)),E.autoHeight&&"iframe"!==E.type&&(T.width(C),A=T.height()),A=Math.max(I,Math.min(A,P))),E.fitToView)if(T.width(C).height(A),S.width(C+t),h=S.width(),p=S.height(),E.aspectRatio)for(;(h>v||p>m)&&C>M&&A>I&&!(x++>19);)A=Math.max(I,Math.min(P,A-10)),C=d(A*l),M>C&&(C=M,A=d(C/l)),C>j&&(C=j,A=d(C/l)),T.width(C).height(A),S.width(C+t),h=S.width(),p=S.height();else C=Math.max(M,Math.min(C,C-(h-v))),A=Math.max(I,Math.min(A,A-(p-m)));W&&"auto"===R&&s>A&&v>C+t+W&&(C+=W),T.width(C).height(A),S.width(C+t),h=S.width(),p=S.height(),_=(h>v||p>m)&&C>M&&A>I,k=E.aspectRatio?u>C&&c>A&&o>C&&s>A:(u>C||c>A)&&(o>C||s>A),n.extend(E,{dim:{width:g(h),height:g(p)},origWidth:o,origHeight:s,canShrink:_,canExpand:k,wPadding:t,hPadding:e,wrapSpace:p-O.outerHeight(!0),skinSpace:O.height()-A}),!y&&E.autoHeight&&A>I&&P>A&&!k&&T.height("auto")},_getPosition:function(t){var e=a.current,n=a.getViewport(),r=e.margin,i=a.wrap.width()+r[1]+r[3],o=a.wrap.height()+r[0]+r[2],s={position:"absolute",top:r[0],left:r[3]};return e.autoCenter&&e.fixed&&!t&&o<=n.h&&i<=n.w?s.position="fixed":e.locked||(s.top+=n.y,s.left+=n.x),s.top=g(Math.max(s.top,s.top+(n.h-o)*e.topRatio)),s.left=g(Math.max(s.left,s.left+(n.w-i)*e.leftRatio)),s},_afterZoomIn:function(){var t=a.current;t&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fancybox-opened"),a.update(),(t.closeClick||t.nextClick&&a.group.length>1)&&a.inner.css("cursor","pointer").bind("click.fb",function(e){n(e.target).is("a")||n(e.target).parent().is("a")||(e.preventDefault(),a[t.closeClick?"close":"next"]())}),t.closeBtn&&n(t.tpl.closeBtn).appendTo(a.skin).bind("click.fb",function(t){t.preventDefault(),a.close()}),t.arrows&&a.group.length>1&&((t.loop||t.index>0)&&n(t.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(t.loop||t.index<a.group.length-1)&&n(t.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),t.loop||t.index!==t.group.length-1?a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play()):a.play(!1))},_afterZoomOut:function(t){t=t||a.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",t)}}),a.transitions={getOrigPosition:function(){var t=a.current,e=t.element,n=t.orig,r={},i=50,o=50,s=t.hPadding,u=t.wPadding,c=a.getViewport();return!n&&t.isDom&&e.is(":visible")&&(n=e.find("img:first"),n.length||(n=e)),l(n)?(r=n.offset(),n.is("img")&&(i=n.outerWidth(),o=n.outerHeight())):(r.top=c.y+(c.h-o)*t.topRatio,r.left=c.x+(c.w-i)*t.leftRatio),("fixed"===a.wrap.css("position")||t.locked)&&(r.top-=c.y,r.left-=c.x),r={top:g(r.top-s*t.topRatio),left:g(r.left-u*t.leftRatio),width:g(i+u),height:g(o+s)}},step:function(t,e){var n,r,i,o=e.prop,s=a.current,u=s.wrapSpace,c=s.skinSpace;("width"===o||"height"===o)&&(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),a.isClosing&&(n=1-n),r="width"===o?s.wPadding:s.hPadding,i=t-r,a.skin[o](d("width"===o?i:i-u*n)),a.inner[o](d("width"===o?i:i-u*n-c*n)))},zoomIn:function(){var t=a.current,e=t.pos,r=t.openEffect,i="elastic"===r,o=n.extend({opacity:1},e);delete o.position,i?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===r&&(e.opacity=.1),a.wrap.css(e).animate(o,{duration:"none"===r?0:t.openSpeed,easing:t.openEasing,step:i?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var t=a.current,e=t.closeEffect,n="elastic"===e,r={opacity:.1};n&&(r=this.getOrigPosition(),t.closeOpacity&&(r.opacity=.1)),a.wrap.animate(r,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var t,e=a.current,n=e.nextEffect,r=e.pos,i={opacity:1},o=a.direction,s=200;r.opacity=.1,"elastic"===n&&(t="down"===o||"up"===o?"top":"left","down"===o||"right"===o?(r[t]=g(d(r[t])-s),i[t]="+="+s+"px"):(r[t]=g(d(r[t])+s),i[t]="-="+s+"px")),"none"===n?a._afterZoomIn():a.wrap.css(r).animate(i,{duration:e.nextSpeed,easing:e.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var t=a.previous,e=t.prevEffect,r={opacity:.1},i=a.direction,o=200;"elastic"===e&&(r["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"="+o+"px"),t.wrap.animate(r,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!c,fixed:!0},overlay:null,fixed:!1,create:function(t){t=n.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=n('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,t.fixed&&a.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=n.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(i.bind("resize.overlay",n.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){n(t.target).hasClass("fancybox-overlay")&&(a.isActive?a.close():e.close())}),this.overlay.css(t.css).show()},close:function(){n(".fancybox-overlay").remove(),i.unbind("resize.overlay"),this.overlay=null,this.margin!==!1&&(n("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var t,n="100%";this.overlay.width(n).height("100%"),s?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),o.width()>t&&(n=o.width())):o.width()>i.width()&&(n=o.width()),this.overlay.width(n).height(o.height())},onReady:function(t,r){n(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=o.height()>i.height()||"scroll"===n("body").css("overflow-y")?n("body").css("margin-right"):!1,this.el=n(e.all&&!e.querySelector?"html":"body"),this.create(t)),t.locked&&this.fixed&&(r.locked=this.overlay.append(r.wrap),r.fixed=!1),t.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){e.locked&&(this.el.addClass("fancybox-lock"),this.margin!==!1&&n("body").css("margin-right",d(this.margin)+e.scrollbarWidth)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!a.isActive&&this.overlay.fadeOut(t.speedOut,n.proxy(this.close,this))}},a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,r,i=a.current,o=i.title,u=t.type;if(n.isFunction(o)&&(o=o.call(i.element,i)),h(o)&&""!==n.trim(o)){switch(e=n('<div class="fancybox-title fancybox-title-'+u+'-wrap">'+o+"</div>"),u){case"inside":r=a.skin;break;case"outside":r=a.wrap;break;case"over":r=a.inner;break;default:r=a.skin,e.appendTo("body"),s&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(d(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](r)}}},n.fn.fancybox=function(t){var e,r=n(this),i=this.selector||"",s=function(o){var s,u,c=n(this).blur(),l=e;o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||c.is(".fancybox-wrap")||(s=t.groupAttr||"data-fancybox-group",u=c.attr(s),u||(s="rel",u=c.get(0)[s]),u&&""!==u&&"nofollow"!==u&&(c=i.length?n(i):r,c=c.filter("["+s+'="'+u+'"]'),l=c.index(this)),t.index=l,a.open(c,t)!==!1&&o.preventDefault())};return t=t||{},e=t.index||0,i&&t.live!==!1?o.undelegate(i,"click.fb-start").delegate(i+":not('.fancybox-item, .fancybox-nav')","click.fb-start",s):r.unbind("click.fb-start").bind("click.fb-start",s),this.filter("[data-fancybox-start=1]").trigger("click"),this},o.ready(function(){n.scrollbarWidth===r&&(n.scrollbarWidth=function(){var t=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),r=e.innerWidth()-e.height(99).innerWidth();return t.remove(),r}),n.support.fixedPosition===r&&(n.support.fixedPosition=function(){var t=n('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===t[0].offsetTop||15===t[0].offsetTop;return t.remove(),e}()),n.extend(a.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")})})}(window,document,jQuery),!function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(r)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,r=t.ui.mouse.prototype,i=r._mouseInit,o=r._mouseDestroy;r._touchStart=function(t){var r=this;!n&&r._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,r._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},r._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},r._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},r._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),i.call(e)},r._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)}}}(jQuery);